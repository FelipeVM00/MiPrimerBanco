<ion-content>
  <div *ngIf="!accountSelected">
    <ion-text class="ion-text-center">
      <h4><strong>Elige la cuenta origen</strong></h4>
    </ion-text>
    <ion-list>
      <ion-item *ngFor="let account of accounts" (click)="selectAccount(account)">
        <ion-label>
          <h2><strong>{{account.number}}</strong></h2>
          <p>{{account.type === 'savings' ? 'Cuenta de ahorros' : 'Cuenta corriente'}}</p>
        </ion-label>
        <ion-label slot="end">
          <h2><strong>{{account.balance | currency:'COP':'symbol':'3.0'}}</strong></h2>
        </ion-label>
      </ion-item>
    </ion-list>
    <ion-button class="ion-margin-top" fill="outline" expand="block" type="button" (click)="dismissModal()">Cancelar
    </ion-button>
  </div>
  <div *ngIf="accountSelected">
    <!-- Ingresa el monto -->
    <ion-text class="ion-text-center">
      <h4><strong>Ingresa el monto a transferir</strong></h4>
    </ion-text>
    <ion-item>
      <ion-label position="floating">Monto</ion-label>
      <ion-input type="number" [(ngModel)]="amount" required></ion-input>
    </ion-item>
    <ion-button class="ion-margin-top" expand="block" type="button" (click)="confirmTransfer()">Enviar
    </ion-button>
    <ion-button class="ion-margin-top" fill="outline" expand="block" type="button" (click)="cancelFromAmount()">Cancelar
    </ion-button>


  </div>
</ion-content>

<ion-modal [isOpen]="openConfirm">
  <ng-template>
    <ion-content>
      <div>
        <ion-text class="ion-text-center">
          <h2><strong>Transferencia completada</strong></h2>
        </ion-text>
        <!-- Transfer details -->
        <ion-list>
          <ion-item>
            <ion-label>
              <h2><strong>Cuenta origen</strong></h2>
            </ion-label>
            <ion-label slot="end">
              <h2><strong>{{accountSelected}}</strong></h2>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h2><strong>Cuenta destino</strong></h2>
            </ion-label>
            <ion-label slot="end">
              <h2><strong>{{transferInfo.name}}</strong></h2>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h2><strong>Monto</strong></h2>
            </ion-label>
            <ion-label slot="end">
              <h2><strong>{{amount | currency: 'COP':'symbol': '3.0'}}</strong></h2>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h2><strong>Moneda</strong></h2>
            </ion-label>
            <ion-label slot="end">
              <h2><strong>{{transferInfo.currency}}</strong></h2>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h2><strong>Número de transacción</strong></h2>
            </ion-label>
            <ion-label slot="end">
              <h2><strong>654889489948</strong></h2>
            </ion-label>
          </ion-item>
        </ion-list>

        <ion-button class="ion-margin-top" fill="outline" expand="block" type="button" (click)="closeTransferModals()">
          Volver
        </ion-button>
      </div>
    </ion-content>
  </ng-template>
</ion-modal>
